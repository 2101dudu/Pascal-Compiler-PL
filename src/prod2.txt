Program : PROGRAM id ';' ProgramBody

ProgramBody: VarSection MainSection

VarSection : VAR VarsList
           | DONTFORGETTOREMOVE 

VarsList : VarsList VarsListElem
         | VarsListElem

VarsListElem : VarsListElemIDs ':' id ';'

VarsListElemIDs : VarsListElemIDs ',' id
                | id

MainSection : BEGIN MainSectionList END '.'

MainSectionList : MainSectionList MainSectionListElem
                | MainSectionListElem 

MainSectionListElem : Func OptionalSemiColon
                    | Atrib OptionalSemiColon
                    | FORStatement OptionalSemiColon
                    | IFStatement OptionalSemiColon
                    | WHILEStatement OptionalSemiColon

Func : id '(' ArgsList ')' 

ArgsList : ArgsList ',' Arg
         | Arg
         | DONTFORGETTOREMOVE

Arg : string
    | Exp


FORStatement : FOR Atrib TO id DO FORBody

FORBody : FORStatement
        | BEGIN MainSectionList END OptionalSemiColon
        | MainSectionListElem

IFStatement : IF Condition THEN Statement ELSE Statement
            | IF Condition THEN Statement

Statement : IFStatement
          | Operation

WHILEStatement : WHILE Condition DO WHILEBody

WHILEBody : WHILEStatement
          | BEGIN MainSectionList END OptionalSemiColon
          | MainSectionListElem

Condition: LogicExp

Operation : Atrib

Atrib : id ':' '=' Exp


Exp : NumExp
    | BooleanExp
    | LogicExp


NumExp : NumExp '+' NumTerm
       | NumExp '-' NumTerm
       | NumTerm

NumTerm : NumTerm '*' NumFactor
        | NumTerm '/' NumFactor
        | NumTerm 'div' NumFactor
        | NumTerm 'mod' NumFactor
        | NumFactor

NumFactor : '(' NumExp ')'
          | num
          | id


ComparationSymbol : '>'
                  | '<'
                  | '=' 
                  | '>' '='
                  | '<' '='

BooleanExp : BooleanExp ComparationSymbol BooleanExp
           | BooleanFactor

BooleanFactor : boolean
              | num
              | id

LogicExp : LogicExp OR LoficTerm
         | LoficTerm

LogicTerm : LogicTerm AND LogicNot
          | LogicNot

LogicNot : NOT LogicFactor
         | LogicFactor

LogicFactor : '(' LogicExp ')'
            | BooleanExp

OptionalSemiColon : ';'
                  | DONTFORGETTOREMOVE
