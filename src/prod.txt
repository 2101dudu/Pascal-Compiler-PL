Program : PROGRAM id ';' ProgramBody

ProgramBody: VarSection MainSection

VarSection : VAR VarsList
           | DONTFORGETTOREMOVE 

VarsList : VarsList VarsListElem
         | VarsListElem

VarsListElem : VarsListElemIDs ':' id ';'

VarsListElemIDs : VarsListElemIDs ',' id
                | id

MainSection : BEGIN MainSectionList END '.'

MainSectionList : MainSectionList MainSectionListElem
                | MainSectionListElem 

MainSectionListElem : Func OptionalSemiColon
                    | Atrib OptionalSemiColon
                    | FORStatement OptionalSemiColon
                    | IFStatement OptionalSemiColon

Func : id '(' ArgsList ')' 

ArgsList : ArgsList ',' Arg
         | Arg
         | DONTFORGETTOREMOVE

Arg : string
    | Exp

IFStatement : IF Condition THEN Statement ELSE Statement
            | IF Condition THEN Statement

Statement : IFStatement
          | Operation

Condition: BooleanExp

Operation : Atrib

Atrib : id ':' '=' Exp 

Exp : NumExp
    | BooleanExp
    | LogicExp


NumExp : NumExp '+' Term
       | NumExp '-' Term
       | Term

Term : Term '*' Factor
     | Term '/' Factor
     | Term 'div' Factor
     | Term 'mod' Factor
     | Factor

Factor : '(' NumExp ')'
       | num
       | id

BooleanExp : BooleanExp '<' BooleanTerm
           | BooleanExp '>' BooleanTerm
           | BooleanTerm

BooleanTerm : BooleanTerm '>' '=' BooleanFactor
            | BooleanTerm '<' '=' BooleanFactor
            | BooleanTerm '=' BooleanFactor
            | BooleanFactor

BooleanFactor : BooleanExp
              | boolean
              | num
              | id


LogicExp : LogicExp or LogicExpTerm
         | LogicExpTerm

LogicExpTerm : LogicExpTerm and LogicFactor
             | LogicFactor

LogicFactor : BooleanExp
            | boolean





FORStatement : FOR Atrib TO id DO FORBody

FORBody : FORStatement
        | BEGIN MainSectionList END ';'
        | MainSectionListElem

OptionalSemiColon : ';'
                  | DONTFORGETTOREMOVE











