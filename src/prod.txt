Program : PROGRAM id ';' ProgramBody

ProgramBody: VarSection MainSection

VarSection : VAR VarsList
           | DONTFORGETTOREMOVE 

VarsList : VarsList VarsListElem
         | VarsListElem

VarsListElem : VarsListElemIDs ':' VarType ';'

VarType : id
        | ARRAY ArrayIndexes OF id

ArrayIndexes : '[' num '.' '.' num ']'
             | DONTFORGETTOREMOVE

VarsListElemIDs : VarsListElemIDs ',' id
                | id

MainSection : BEGIN MainSectionList END '.'

MainSectionList : MainSectionList MainSectionListElem
                | MainSectionListElem 

MainSectionListElem : Func OptionalSemiColon
                    | Atrib OptionalSemiColon
                    | FORStatement OptionalSemiColon
                    | IFStatement OptionalSemiColon
                    | WHILEStatement OptionalSemiColon

Func : id '(' ArgsList ')' 

ArgsList : ArgsList ',' Arg
         | Arg
         | DONTFORGETTOREMOVE

Arg : '(' Arg ')'
    | string
    | Exp


FORStatement : FOR Atrib FORTo NumExp DO FORBody

FORTo : TO
      | DOWNTO

FORBody : FORStatement
        | BEGIN MainSectionList END OptionalSemiColon
        | MainSectionListElem

IFStatement : IF Condition THEN MainSectionListElem ELSE MainSectionListElem
            | IF Condition THEN MainSectionListElem

WHILEStatement : WHILE Condition DO WHILEBody

WHILEBody : WHILEStatement
          | BEGIN MainSectionList END OptionalSemiColon
          | MainSectionListElem

Condition : '(' Condition ')'
          | LogicExp

Operation : Atrib

Atrib : IDWrapper ':' '=' AtribVal

IDWrapper : '(' IDWrapper ')'
          | ArrayElem
          | id

AtribVal : Exp
         | Func

Exp : NumExp
    | BooleanExp
    | LogicExp


NumExp : NumExp '+' NumTerm
       | NumExp '-' NumTerm
       | NumTerm

NumTerm : NumTerm '*' NumFactor
        | NumTerm '/' NumFactor
        | NumTerm DIV NumFactor
        | NumTerm MOD NumFactor
        | NumFactor

NumFactor : '(' NumExp ')'
          | num
          | ArrayElem
          | id


ComparationSymbol : '>'
                  | '<'
                  | '=' 
                  | '>' '='
                  | '<' '='

BooleanExp : BooleanExp ComparationSymbol BooleanExp
           | BooleanFactor

BooleanFactor : '(' Exp ')'
              | boolean
              | num
              | string
              | ArrayElem
              | id

LogicExp : LogicExp OR LogicTerm
         | LogicTerm

LogicTerm : LogicTerm AND LogicNot
          | LogicNot

LogicNot : NOT LogicFactor
         | LogicFactor

LogicFactor : '(' LogicExp ')'
            | BooleanExp

OptionalSemiColon : ';'
                  | DONTFORGETTOREMOVE

ArrayElem : id '[' id ']'
